{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/main.js","webpack:///./js/modules/form/form-validate.js","webpack:///./js/modules/form/init-form-validate.js","webpack:///./js/modules/init-calculate-area.js","webpack:///./js/modules/init-custom-select.js","webpack:///./js/modules/init-gallery-slider.js","webpack:///./js/modules/init-input-tags.js","webpack:///./js/modules/init-price-range.js","webpack:///./js/modules/init-validate-email.js","webpack:///./js/modules/init-validate-phone.js","webpack:///./js/utils/ios-checker.js","webpack:///./js/utils/ios-vh-fix.js"],"names":["window","addEventListener","iosVhFix","initCalculateArea","initPriceRange","initFormValidate","initGallerySlider","initValidateEmail","initValidatePhone","initInputTags","initCustomSelect","BASE_COUNTRY_CODE","BASE_MATRIX","phoneLength","length","returnLimitationsRegEx","dataLimitations","simpleLimitations","formElement","RegEx","value","replace","console","error","returnMatrixLimitationsRegEx","dataMatrixLimitations","initMatrixReplace","target","matrix","def","val","i","a","test","charAt","simpleMatrix","dataMatrix","onInputPhoneInput","prettifyPhoneInput","input","startsWith","onFocusPhoneInput","onBlurPhoneInput","onKeydownPhoneInput","e","selectionStart","keyCode","preventDefault","setSelectionRange","parent","closest","classList","remove","removeEventListener","hideError","el","contains","validateToggleGroup","setAttribute","add","showError","showInputsError","inputs","flag","result","forEach","type","dataset","validateType","validateInputs","showGroupInputsError","parents","showErrors","inputsResult","groupResult","validateTextInput","minLength","getAttribute","validatePhoneInput","validateEmailInput","emailString","regEmail","RegExp","validateMatrixInput","findSelectedOption","options","option","selected","validateSelect","querySelectorAll","customSelectText","querySelector","innerHTML","validateCheckbox","checked","returnCheckedElements","removeGroupAria","removeAttribute","setGroupAria","formElements","checkInputValidity","formElementLimitationsAction","formValidateElement","limitations","formElementMatrixAction","matrixLimitations","formElementValidateAction","dataValidateType","onFormSubmit","callback","groupsFormElement","validationSuccessCallback","validationErrorCallback","clearForm","form","reset","formValidateElements","notEmptyInputs","invalidInputs","notEmptyInput","invalidInput","FormsValidate","wrappers","formWrappers","typeOfNode","Object","prototype","toString","call","wrapper","initItem","element","resetButtons","noValidate","btn","formLimitationsElements","formMatrixElements","document","resetForm","setTimeout","baseValidationSuccessCallback","baseValidationErrorCallback","customExampleValidationSuccessCallback","log","customExampleValidationErrorCallback","callbacks","base","customExample","setCustomPhoneInputsEvent","dispatchEvent","Event","formValidate","init","minusBtn","plusBtn","areaWrapper","inputNumber","currentValue","Number","selectTop","selectItem","item","selectToggle","selectChoose","parentElement","toggle","text","innerText","currentText","sliderItems","filterBtn","j","position","items","itemsCount","setPosition","checkBtns","filter","style","display","slidesToShow","slidesToScroll","container","track","btnPrev","btnNext","itemWidth","clientWidth","movePosition","pagination","slideBulletLeft","slideBulletRight","minWidth","itemsLeft","Math","abs","transform","disabled","getElementById","listArr","newTagLi","tagsList","tagsItems","ind","push","textContent","closeFunc","inValue","split","splice","event","emailRegex","cyrillicPattern","emailInput","btnDelete","validateEmail","detectError","updateInput","borderColor","visibility","phoneInput","x","substring","match","setCustomValidity","validity","patternMismatch","iosChecker","includes","navigator","platform","userAgent","MSInputMethodContext","documentMode","vh","innerHeight","documentElement","setProperty"],"mappings":"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","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/main.js\");\n","import {iosVhFix} from './utils/ios-vh-fix';\nimport {initFormValidate} from './modules/form/init-form-validate';\nimport {initCalculateArea} from './modules/init-calculate-area';\nimport {initGallerySlider} from './modules/init-gallery-slider';\nimport {initPriceRange} from './modules/init-price-range';\nimport {initValidateEmail} from './modules/init-validate-email';\nimport {initValidatePhone} from './modules/init-validate-phone';\nimport {initInputTags} from './modules/init-input-tags';\nimport {initCustomSelect} from './modules/init-custom-select';\n// import {initSmoothScroll} from './modules/init-smooth-scroll';\n\n// ---------------------------------\n\nwindow.addEventListener('DOMContentLoaded', () => {\n\n  // Utils\n  // ---------------------------------\n\n  iosVhFix();\n  initCalculateArea();\n  initPriceRange();\n  // initSmoothScroll();\n\n  // Modules\n  // ---------------------------------\n\n  // все скрипты должны быть в обработчике 'DOMContentLoaded', но не все в 'load'\n  // в load следует добавить скрипты, не участвующие в работе первого экрана\n  window.addEventListener('load', () => {\n    initFormValidate();\n    initGallerySlider();\n    initValidateEmail();\n    initValidatePhone();\n    initInputTags();\n    initCustomSelect();\n  });\n});\n","// Константы и переменные\n\nconst BASE_COUNTRY_CODE = '+7';\nconst BASE_MATRIX = '(___) ___ __ __';\nconst phoneLength = BASE_COUNTRY_CODE.length + BASE_MATRIX.length;\n\n// Ограничения ввода для обычных полей\n\nconst returnLimitationsRegEx = (dataLimitations) => {\n  switch (dataLimitations) {\n    case 'digit':\n      return /[^\\d]/g;\n    case 'name':\n      return /[^a-zA-Zа-яёА-ЯЁ\\-\\s]/g;\n    case 'letters':\n      return /[^a-zA-Zа-яёА-ЯЁ\\s]/g;\n    case 'letters-and-digit':\n      return /[^a-zA-Zа-яёА-ЯЁ\\s\\d]/g;\n    case 'cyrillic':\n      return /[^а-яёА-ЯЁ\\s]/g;\n    case 'latin':\n      return /[^a-zA-Z\\s]/g;\n    default:\n      return false;\n  }\n};\n\nconst simpleLimitations = (formElement, dataLimitations) => {\n  const RegEx = returnLimitationsRegEx(dataLimitations);\n  if (RegEx) {\n    formElement.addEventListener('input', () => {\n      formElement.value = formElement.value.replace(RegEx, '');\n    });\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.error(`Переданный формат ограничения: ${dataLimitations}, не поддерживается. Проверьте корректность введённых значений в соответствии со спецификацией.`);\n};\n\n// Ограничения ввода для обычных полей с матрицей\n\nconst returnMatrixLimitationsRegEx = (dataMatrixLimitations) => {\n  switch (dataMatrixLimitations) {\n    case 'digit':\n      return /[^\\d]/g;\n    case 'name':\n      return /[^\\а-яё\\А-ЯЁ\\a-z\\A-Z\\-]]/g;\n    case 'letters':\n      return /[^\\а-яё\\А-ЯЁ\\a-z\\A-Z]/g;\n    case 'letters-and-digit':\n      return /[^\\а-яё\\А-ЯЁ\\a-z\\A-Z\\d]/g;\n    case 'cyrillic':\n      return /[^\\а-яё\\А-ЯЁ]/g;\n    case 'latin':\n      return /[^\\a-z\\A-Z]/g;\n    default:\n      return false;\n  }\n};\n\nconst initMatrixReplace = (target, matrix, RegEx) => {\n  const def = matrix.replace(RegEx, '');\n  let val = target.value.replace(RegEx, '');\n  let i = 0;\n\n  if (def.length >= val.length) {\n    val = def;\n  }\n\n  target.value = matrix.replace(/./g, (a) => {\n    if (/[_\\^]/.test(a) && i < val.length) {\n      return val.charAt(i++);\n    } else if (i >= val.length) {\n      return '';\n    } else {\n      return a;\n    }\n  });\n};\n\nconst simpleMatrix = (formElement, dataMatrix, dataMatrixLimitations) => {\n  if (dataMatrixLimitations === null) {\n    // eslint-disable-next-line no-console\n    console.error('При валидации по матрице обязательно указывать формат ограничений: data-matrix-limitations=\"\"');\n    return;\n  }\n  const RegEx = returnMatrixLimitationsRegEx(dataMatrixLimitations);\n  if (RegEx) {\n\n    formElement.addEventListener('input', () => {\n      initMatrixReplace(formElement, dataMatrix, RegEx);\n    });\n  } else {\n    // eslint-disable-next-line no-console\n    console.error(`Переданный формат ограничения: ${dataMatrixLimitations}, не поддерживается. Проверьте корректность введённых значений в соответствии со спецификацией.`);\n  }\n};\n\n// Маска для телефона\n\nconst onInputPhoneInput = ({target}) => {\n  const matrix = `${BASE_COUNTRY_CODE}${BASE_MATRIX}`;\n  const def = matrix.replace(/\\D/g, '');\n  let i = 0;\n  let val = target.value.replace(/\\D/g, '');\n  if (def.length >= val.length) {\n    val = def;\n  }\n  target.value = matrix.replace(/./g, (a) => {\n    if (/[_\\d]/.test(a) && i < val.length) {\n      return val.charAt(i++);\n    } else if (i >= val.length) {\n      return '';\n    } else {\n      return a;\n    }\n  });\n};\n\nconst prettifyPhoneInput = (input) => {\n  if (!input.value.startsWith(BASE_COUNTRY_CODE)) {\n    if (input.value.startsWith('8')) {\n      input.value = input.value.replace('8', BASE_COUNTRY_CODE);\n    } else {\n      input.value = `${BASE_COUNTRY_CODE}${input.value}`;\n    }\n  }\n  // onInputPhoneInput({input});\n  const matrix = `${BASE_COUNTRY_CODE}${BASE_MATRIX}`;\n  const def = matrix.replace(/\\D/g, '');\n  let i = 0;\n  let val = input.value.replace(/\\D/g, '');\n  if (def.length >= val.length) {\n    val = def;\n  }\n\n  input.value = matrix.replace(/./g, (a) => {\n    if (/[_\\d]/.test(a) && i < val.length) {\n      return val.charAt(i++);\n    } else if (i >= val.length) {\n      return '';\n    } else {\n      return a;\n    }\n  });\n};\n\nconst onFocusPhoneInput = ({target}) => {\n  if (!target.value) {\n    target.value = BASE_COUNTRY_CODE;\n  }\n\n  target.addEventListener('input', onInputPhoneInput);\n  target.addEventListener('blur', onBlurPhoneInput);\n  target.addEventListener('keydown', onKeydownPhoneInput);\n};\n\nconst onKeydownPhoneInput = (e) => {\n  if (e.target.selectionStart === 1 && e.keyCode === 8 || e.keyCode === 46) {\n    e.preventDefault();\n  }\n  if (e.target.selectionStart <= phoneLength && e.keyCode !== 8 && e.keyCode !== 46 && e.keyCode !== 37 && e.keyCode !== 39) {\n    e.target.setSelectionRange(phoneLength, phoneLength);\n  }\n};\n\nconst onBlurPhoneInput = ({target}) => {\n  if (target.value === BASE_COUNTRY_CODE) {\n    const parent = target.closest('[data-validate-type=\"phone\"]');\n    target.value = '';\n    parent.classList.remove('not-empty');\n    target.removeEventListener('input', onInputPhoneInput);\n    target.removeEventListener('blur', onBlurPhoneInput);\n  }\n};\n\n// Показ ошибок полей форм\n\nconst hideError = (el) => {\n  if (el.classList.contains('toggle-group')) {\n    validateToggleGroup(el);\n    el.setAttribute('aria-invalid', 'true');\n    el.classList.remove('is-invalid');\n    el.classList.add('is-valid');\n  } else {\n    const parent = el.closest('[data-validate-type]');\n    el.setAttribute('aria-invalid', 'false');\n    parent.classList.remove('is-invalid');\n    parent.classList.add('is-valid');\n  }\n};\n\nconst showError = (el) => {\n  if (el.classList.contains('toggle-group')) {\n    validateToggleGroup(el);\n    el.setAttribute('aria-invalid', 'false');\n    el.classList.add('is-invalid');\n    el.classList.remove('is-valid');\n  } else {\n    const parent = el.closest('[data-validate-type]');\n    el.setAttribute('aria-invalid', 'true');\n    parent.classList.add('is-invalid');\n    parent.classList.remove('is-valid');\n  }\n};\n\nconst showInputsError = (inputs) => {\n  let flag = true;\n  let result = true;\n  inputs.forEach((input) => {\n    const type = input.closest('[data-validate-type]').dataset.validateType;\n    if (type === 'toggle-group') {\n      return;\n    }\n    flag = validateInputs(type, input);\n    if (!flag) {\n      result = flag;\n      showError(input);\n    } else {\n      hideError(input);\n    }\n  });\n  return result;\n};\n\nconst showGroupInputsError = (parents) => {\n  let flag = true;\n  let result = true;\n  if (!parents.length) {\n    return result;\n  }\n  parents.forEach((parent) => {\n    flag = validateToggleGroup(parent);\n    if (!flag) {\n      result = flag;\n      showError(parent);\n    } else {\n      hideError(parent);\n    }\n  });\n  return result;\n};\n\nconst showErrors = (inputs, parents) => {\n  let result = true;\n  const inputsResult = showInputsError(inputs);\n  const groupResult = showGroupInputsError(parents);\n\n  if (!inputsResult || !groupResult) {\n    result = false;\n  }\n\n  return result;\n};\n\n// Валидация полей форм\n\nconst validateTextInput = (input) => {\n  const parent = input.closest('[data-validate-type]');\n  let flag = true;\n  let minLength = +input.getAttribute('minlength');\n  if (!minLength) {\n    minLength = 1;\n  }\n  if (input.value.length >= minLength) {\n    parent.classList.add('is-valid');\n    parent.classList.remove('is-invalid');\n    input.setAttribute('aria-invalid', 'false');\n  } else {\n    parent.classList.remove('is-valid');\n    input.setAttribute('aria-invalid', 'true');\n    flag = false;\n  }\n  return flag;\n};\n\nconst validatePhoneInput = (input) => {\n  const parent = input.closest('[data-validate-type]');\n  let flag = true;\n  if (input.value.length >= phoneLength) {\n    parent.classList.remove('is-invalid');\n    parent.classList.add('is-valid');\n    input.setAttribute('aria-invalid', 'false');\n  } else {\n    parent.classList.remove('is-valid');\n    input.setAttribute('aria-invalid', 'true');\n    flag = false;\n  }\n  return flag;\n};\n\nconst validateEmailInput = (input) => {\n  const parent = input.closest('[data-validate-type]');\n  let flag = true;\n  const emailString = /[a-zA-Zа-яёА-ЯЁ0-9]{1}([a-zA-Zа-яёА-ЯЁ0-9\\-_\\.]{1,})?@[a-zA-Zа-яёА-ЯЁ0-9\\-]{1}([a-zA-Zа-яёА-ЯЁ0-9.\\-]{1,})?[a-zA-Zа-яёА-ЯЁ0-9\\-]{1}\\.[a-zA-Zа-яёА-ЯЁ]{2,6}/;\n  const regEmail = new RegExp(emailString, '');\n  if (regEmail.test(input.value)) {\n    parent.classList.remove('is-invalid');\n    parent.classList.add('is-valid');\n    input.setAttribute('aria-invalid', 'false');\n  } else {\n    parent.classList.remove('is-valid');\n    input.setAttribute('aria-invalid', 'true');\n    flag = false;\n  }\n  return flag;\n};\n\nconst validateMatrixInput = (input) => {\n  const parent = input.closest('[data-validate-type]');\n  let flag = true;\n  const matrix = input.closest('[data-matrix]').dataset.matrix;\n  if (input.value.length === matrix.length) {\n    parent.classList.remove('is-invalid');\n    parent.classList.add('is-valid');\n    input.setAttribute('aria-invalid', 'false');\n  } else {\n    parent.classList.remove('is-valid');\n    input.setAttribute('aria-invalid', 'true');\n    flag = false;\n  }\n  return flag;\n};\n\nconst findSelectedOption = (options) => {\n  let flag = false;\n  options.forEach((option) => {\n    if (option.value && option.selected) {\n      flag = true;\n    }\n  });\n  return flag;\n};\n\nconst validateSelect = (input) => {\n  const parent = input.closest('[data-validate-type]');\n  const options = input.querySelectorAll('option');\n  const customSelectText = parent.querySelector('.custom-select__text');\n  input.setAttribute('aria-invalid', 'false');\n  let flag = true;\n  if (findSelectedOption(options)) {\n    parent.classList.remove('is-invalid');\n    parent.classList.add('is-valid');\n    input.setAttribute('aria-invalid', 'false');\n  } else {\n    parent.classList.remove('is-valid');\n    input.setAttribute('aria-invalid', 'true');\n    customSelectText.innerHTML = '';\n    parent.classList.remove('not-empty');\n    flag = false;\n  }\n  return flag;\n};\n\nconst validateCheckbox = (input) => {\n  const parent = input.closest('[data-validate-type]');\n  let flag = true;\n  if (input.checked) {\n    parent.classList.remove('is-invalid');\n    parent.classList.add('is-valid');\n  } else {\n    parent.classList.remove('is-valid');\n    flag = false;\n  }\n  return flag;\n};\n\nconst validateInputs = (type, input) => {\n  switch (type) {\n    case 'text':\n      return validateTextInput(input);\n    case 'phone':\n      return validatePhoneInput(input);\n    case 'email':\n      return validateEmailInput(input);\n    case 'matrix':\n      return validateMatrixInput(input);\n    case 'select':\n      return validateSelect(input);\n    case 'checkbox':\n      return validateCheckbox(input);\n    default:\n      return false;\n  }\n};\n\nconst returnCheckedElements = (inputs) => {\n  let flag = false;\n  inputs.forEach((input) => {\n    if (input.checked) {\n      flag = true;\n    }\n  });\n  return flag;\n};\n\nconst removeGroupAria = (inputs) => {\n  inputs.forEach((input) => {\n    if (!input.checked) {\n      input.removeAttribute('aria-required');\n      input.removeAttribute('aria-invalid');\n    } else {\n      input.setAttribute('aria-required', true);\n      input.setAttribute('aria-invalid', false);\n    }\n  });\n};\n\nconst setGroupAria = (inputs) => {\n  inputs.forEach((input) => {\n    input.setAttribute('aria-required', true);\n    input.setAttribute('aria-invalid', true);\n  });\n};\n\nconst validateToggleGroup = (parent) => {\n  const formElements = parent.querySelectorAll('input');\n  let flag = true;\n  if (returnCheckedElements(formElements)) {\n    removeGroupAria(formElements);\n    parent.classList.remove('is-invalid');\n    parent.classList.add('is-valid');\n  } else {\n    setGroupAria(formElements);\n    parent.classList.remove('is-valid');\n    flag = false;\n  }\n  return flag;\n};\n\nconst checkInputValidity = (type, input) => {\n  validateInputs(type, input);\n};\n\n// Установка всех действий в полях форм\n\nconst formElementLimitationsAction = (formValidateElement) => {\n  const dataLimitations = formValidateElement.dataset.limitations ? formValidateElement.dataset.limitations : null;\n  let formElement = formValidateElement.querySelector('input');\n  if (!formElement) {\n    formElement = formValidateElement.querySelector('textarea');\n  }\n  if (!formElement) {\n    // eslint-disable-next-line no-console\n    console.error('В валидируемом блоке отсутствует поле формы');\n    return;\n  }\n  if (dataLimitations) {\n    simpleLimitations(formElement, dataLimitations);\n  }\n};\n\nconst formElementMatrixAction = (formValidateElement) => {\n  const dataMatrix = formValidateElement.dataset.matrix ? formValidateElement.dataset.matrix : null;\n  const dataMatrixLimitations = formValidateElement.dataset.matrixLimitations ? formValidateElement.dataset.matrixLimitations : null;\n  let formElement = formValidateElement.querySelector('input');\n  if (!formElement) {\n    formElement = formValidateElement.querySelector('textarea');\n  }\n  if (!formElement) {\n    // eslint-disable-next-line no-console\n    console.error('В валидируемом блоке отсутствует поле формы');\n    return;\n  }\n  if (dataMatrix) {\n    simpleMatrix(formElement, dataMatrix, dataMatrixLimitations);\n  }\n};\n\nconst formElementValidateAction = (formValidateElement) => {\n  const dataValidateType = formValidateElement.dataset.validateType;\n  const dataLimitations = formValidateElement.dataset.limitations ? formValidateElement.dataset.limitations : null;\n  const dataMatrix = formValidateElement.dataset.matrix ? formValidateElement.dataset.matrix : null;\n  const dataMatrixLimitations = formValidateElement.dataset.matrixLimitations ? formValidateElement.dataset.matrixLimitations : null;\n  if (dataValidateType !== 'toggle-group') {\n    let formElement = formValidateElement.querySelector('input');\n    if (!formElement) {\n      formElement = formValidateElement.querySelector('textarea');\n    }\n    if (!formElement) {\n      formElement = formValidateElement.querySelector('select');\n    }\n    if (!formElement) {\n      // eslint-disable-next-line no-console\n      console.error('В валидируемом блоке отсутствует поле формы');\n      return;\n    }\n\n    formElement.setAttribute('aria-required', true);\n    formElement.setAttribute('aria-invalid', true);\n\n    if (dataLimitations) {\n      simpleLimitations(formElement, dataLimitations);\n    }\n\n    if (dataMatrix) {\n      simpleMatrix(formElement, dataMatrix, dataMatrixLimitations);\n    }\n\n    if (dataValidateType === 'phone') {\n      if (formElement.value) {\n        prettifyPhoneInput(formElement);\n      }\n      formElement.addEventListener('focus', onFocusPhoneInput);\n    }\n\n    formElement.addEventListener('input', () => {\n      checkInputValidity(dataValidateType, formElement);\n    });\n\n    checkInputValidity(dataValidateType, formElement);\n  } else {\n    const formElements = formValidateElement.querySelectorAll('input');\n    if (formElements.length) {\n      formElements.forEach((el) => {\n        el.setAttribute('aria-required', true);\n        el.setAttribute('aria-invalid', true);\n        el.addEventListener('input', () => {\n          validateToggleGroup(formValidateElement);\n        });\n      });\n      validateToggleGroup(formValidateElement);\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('В валидируемом блоке отсутствуют поля формы');\n      return;\n    }\n  }\n};\n\n// Обработка события submit на форме\n\nconst onFormSubmit = (e, callback) => {\n  const formElements = e.target.querySelectorAll('[aria-required=\"true\"]');\n  const groupsFormElement = e.target.querySelectorAll('[data-validate-type=\"toggle-group\"]');\n  if (showErrors(formElements, groupsFormElement) && callback && callback.validationSuccessCallback) {\n    callback.validationSuccessCallback(e);\n  } else if (callback && callback.validationErrorCallback) {\n    callback.validationErrorCallback(e);\n  } else {\n    e.preventDefault();\n  }\n};\n\n// Очистка полей формы\n\nconst clearForm = (form) => {\n  form.reset();\n  const formValidateElements = form.querySelectorAll('[data-validate-type]');\n  const notEmptyInputs = form.querySelectorAll('.not-empty');\n  const invalidInputs = form.querySelectorAll('.is-invalid');\n  notEmptyInputs.forEach((notEmptyInput) => {\n    notEmptyInput.classList.remove('not-empty');\n  });\n  invalidInputs.forEach((invalidInput) => {\n    invalidInput.classList.remove('is-invalid');\n  });\n  formValidateElements.forEach((formValidateElement) => {\n    const dataValidateType = formValidateElement.dataset.validateType;\n    if (dataValidateType !== 'toggle-group') {\n      let formElement = formValidateElement.querySelector('input');\n      if (!formElement) {\n        formElement = formValidateElement.querySelector('textarea');\n      }\n      if (!formElement) {\n        formElement = formValidateElement.querySelector('select');\n      }\n      if (!formElement) {\n        // eslint-disable-next-line no-console\n        console.error('В валидируемом блоке отсутствует поле формы');\n        return;\n      }\n      formElement.value = '';\n      checkInputValidity(dataValidateType, formElement);\n    } else {\n      validateToggleGroup(formValidateElement);\n    }\n  });\n};\n\nwindow.clearForm = clearForm;\n\n// Класс FormsValidate\n\nexport default class FormsValidate {\n  constructor(wrappers, callback = {}) {\n    this.wrappers = wrappers;\n    this.callback = callback;\n  }\n\n  init(formWrappers) {\n    if (!formWrappers) {\n      formWrappers = this.wrappers;\n    }\n\n    const typeOfNode = Object.prototype.toString.call(formWrappers);\n\n    if (\n      typeOfNode === '[object HTMLCollection]' ||\n      typeOfNode === '[object NodeList]' ||\n      typeOfNode === '[object Array]'\n    ) {\n      formWrappers.forEach((wrapper) => {\n        if (wrapper.classList.contains('is-initialized')) {\n          // eslint-disable-next-line no-console\n          console.error('На данной форме валидация уже инициализированна');\n        } else {\n          this.initItem(wrapper);\n        }\n      });\n    } else if (typeOfNode === '[object HTMLDivElement]' || typeOfNode === '[object HTMLElement]') {\n      if (!formWrappers.classList.contains('is-initialized')) {\n        this.initItem(formWrappers);\n      }\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Переданный обьект не соответствует формату');\n      return;\n    }\n  }\n\n  initItem(element) {\n    element.classList.add('is-initialized');\n    const form = element.querySelector('form');\n    const resetButtons = form.querySelectorAll('button[type=\"reset\"], [data-reset]');\n    form.noValidate = true;\n    form.addEventListener('submit', (e) => {\n      onFormSubmit(e, this.callback);\n    });\n    if (resetButtons.length) {\n      resetButtons.forEach((btn) => {\n        btn.addEventListener('click', (e) => {\n          e.preventDefault();\n          clearForm(form);\n        });\n      });\n    }\n    const formValidateElements = form.querySelectorAll('[data-validate-type]');\n    const formLimitationsElements = form.querySelectorAll('[data-limitations]:not([data-validate-type])');\n    const formMatrixElements = form.querySelectorAll('[data-matrix]:not([data-validate-type])');\n\n    if (formValidateElements.length) {\n      formValidateElements.forEach((el) => {\n        formElementValidateAction(el);\n      });\n    }\n    if (formLimitationsElements.length) {\n      formLimitationsElements.forEach((el) => {\n        formElementLimitationsAction(el);\n      });\n    }\n    if (formMatrixElements.length) {\n      formMatrixElements.forEach((el) => {\n        formElementMatrixAction(el);\n      });\n    }\n  }\n}\n\nwindow.FormsValidate = FormsValidate;\n","import FormsValidate from './form-validate';\nconst formWrappers = document.querySelectorAll('[data-validate]');\n\nconst resetForm = (form) => {\n  setTimeout(() => {\n    window.clearForm(form);\n  }, 1000);\n};\n\nconst baseValidationSuccessCallback = (e) => {\n  e.preventDefault();\n  // В данном колбеке бэкендер будет писать запрос на отправку формы на сервер и обрабатывать возможные ошибки при отправке\n  resetForm(e.target);\n};\n\nconst baseValidationErrorCallback = (e) => {\n  e.preventDefault();\n};\n\nconst customExampleValidationSuccessCallback = (e) => {\n  e.preventDefault();\n  // В данном колбеке бэкендер будет писать запрос на отправку формы на сервер и обрабатывать возможные ошибки при отправке\n  resetForm(e.target);\n  // eslint-disable-next-line no-console\n  console.log('Ваша форма успешна отправлена');\n};\n\nconst customExampleValidationErrorCallback = (e) => {\n  e.preventDefault();\n  // eslint-disable-next-line no-console\n  console.error('Отправка формы невозможна, заполните все обязательные поля');\n};\n\nconst callbacks = {\n  base: {\n    // Колбек при успешной валидации формы при попытке её отправки\n    validationSuccessCallback: baseValidationSuccessCallback,\n    // Колбек при не успешной валидации формы при попытке её отправки, не связан с запросами на сервер\n    validationErrorCallback: baseValidationErrorCallback,\n  },\n  customExample: {\n    validationSuccessCallback: customExampleValidationSuccessCallback,\n    validationErrorCallback: customExampleValidationErrorCallback,\n  },\n};\n\nconst setCustomPhoneInputsEvent = () => {\n  if (document.querySelectorAll('[data-validate-type=\"phone\"] input').length) {\n    document.querySelector('html').addEventListener('input', ({target}) => {\n      if (target.closest('[data-validate-type=\"phone\"]')) {\n        target.closest('[data-validate-type=\"phone\"]').querySelector('input').dispatchEvent(new Event('input'));\n      }\n    });\n  }\n};\n\nconst initFormValidate = () => {\n  if (formWrappers.length) {\n    setCustomPhoneInputsEvent();\n    formWrappers.forEach((wrapper) => {\n      let callback = wrapper.dataset.callback;\n\n      if (!callback) {\n        callback = 'base';\n      }\n\n      const formValidate = new FormsValidate(wrapper, callbacks[callback]);\n      return formValidate.init();\n    });\n  }\n};\n\nexport {initFormValidate};\n","const initCalculateArea = () => {\n  let minusBtn = document.querySelector('.btn--minus');\n  let plusBtn = document.querySelector('.btn--plus');\n  let areaWrapper = document.querySelector('.input__wrapper--area');\n\n  if (areaWrapper) {\n\n    let inputNumber = areaWrapper.querySelector('input');\n\n    minusBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      const currentValue = Number(inputNumber.value) || 0;\n      inputNumber.value = currentValue - 1;\n    });\n\n    plusBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      const currentValue = Number(inputNumber.value) || 0;\n      inputNumber.value = currentValue + 1;\n    });\n  }\n};\n\nexport {initCalculateArea};\n","let initCustomSelect = () => {\n  let selectTop = document.querySelectorAll('.custom-select__top');\n  let selectItem = document.querySelectorAll('.custom-select__item');\n\n  selectTop.forEach(item => {\n    item.addEventListener('click', selectToggle);\n  });\n\n  selectItem.forEach(item => {\n    item.addEventListener('click', selectChoose);\n  });\n\n  function selectToggle() {\n    this.parentElement.classList.toggle('is-active');\n  }\n\n  function selectChoose() {\n    let text = this.innerText;\n    initCustomSelect = this.closest('.custom-select');\n    let currentText = initCustomSelect.querySelector('.custom-select__current');\n    currentText.innerText = text;\n    initCustomSelect.classList.remove('is-active');\n  }\n};\n\nexport {initCustomSelect};\n","const initGallerySlider = () => {\n  let sliderItems = document.querySelectorAll('.gallery__slide');\n  let filterBtn = document.querySelectorAll('.btn__filter');\n\n  for (let i = 0; i < filterBtn.length; i++) {\n\n    filterBtn[i].addEventListener('click', (e) => {\n      e.preventDefault();\n      for (let j = 0; j < filterBtn.length; j++) {\n        filterBtn[j].classList.remove('is-active');\n      }\n      filterBtn[i].classList.add('is-active');\n\n      position = 0;\n      items = document.querySelectorAll('.gallery__slide');\n      itemsCount = items.length;\n      setPosition();\n      checkBtns();\n\n      const filter = e.target.dataset.filter;\n\n      sliderItems.forEach((item) => {\n        if (filter === 'all') {\n          item.style.display = 'block';\n        } else {\n          if (item.dataset.type === filter) {\n            item.style.display = 'block';\n          } else {\n            item.style.display = 'none';\n          }\n        }\n      });\n    });\n  }\n\n  let position = 0;\n  let slidesToShow = 8;\n  let slidesToScroll = 8;\n  // let mobile = window.matchMedia('(max-width: 767px)');\n  // let tablet = window.matchMedia('(max-width: 1023px)');\n  const container = document.querySelector('.gallery__slider');\n  const track = document.querySelector('.gallery__slider-track');\n  const btnPrev = document.querySelector('.gallery__btn-prev');\n  const btnNext = document.querySelector('.gallery__btn-next');\n  const itemWidth = container.clientWidth / slidesToShow;\n  const movePosition = slidesToScroll * itemWidth;\n  let items = document.querySelectorAll('.gallery__slide');\n  let itemsCount = items.length;\n  let pagination = document.querySelectorAll('.pagination span');\n\n\n  let slideBulletLeft = () => {\n    for (let i = 0; i < pagination.length; i++) {\n      if (pagination[i].classList.contains('active') && (i > 0)) {\n        pagination[i].classList.remove('active');\n        pagination[i - 1].classList.add('active');\n        break;\n      }\n    }\n  };\n\n  let slideBulletRight = () => {\n    for (let i = 0; i < pagination.length; i++) {\n      if (pagination[i].classList.contains('active') && (i < pagination.length - 1)) {\n        pagination[i].classList.remove('active');\n        pagination[i + 1].classList.add('active');\n        break;\n      }\n    }\n  };\n\n  items.forEach((item) => {\n    item.style.minWidth = `${itemWidth}px`;\n  });\n\n  btnNext.addEventListener('click', () => {\n    const itemsLeft = itemsCount - (Math.abs(position) + slidesToShow * itemWidth) / itemWidth;\n    position -= itemsLeft >= slidesToScroll ? movePosition : itemsLeft * itemWidth;\n\n    setPosition();\n    checkBtns();\n    slideBulletRight();\n  });\n\n  btnPrev.addEventListener('click', () => {\n    const itemsLeft = Math.abs(position) / itemWidth;\n\n    position += itemsLeft >= slidesToScroll ? movePosition : itemsLeft * itemWidth;\n\n    setPosition();\n    checkBtns();\n    slideBulletLeft();\n  });\n\n  const setPosition = () => {\n    track.style.transform = `translateX(${position}px)`;\n  };\n\n  const checkBtns = () => {\n    btnPrev.disabled = position === 0;\n    btnNext.disabled = position <= -(itemsCount - slidesToShow) * itemWidth;\n  };\n  checkBtns();\n};\n\nexport {initGallerySlider};\n","const initInputTags = () => {\n  let input = document.getElementById('wishes');\n  let listArr = [];\n  let newTagLi = '';\n\n  let tagsList = document.querySelector('.tags');\n  let tagsItems = tagsList.querySelectorAll('span');\n\n  tagsItems.forEach((item, ind) => {\n    listArr.push(item.textContent);\n    item.querySelector('svg').addEventListener('click', () => {\n      closeFunc(ind);\n    });\n  });\n\n  input.addEventListener('keydown', (e) => {\n    if (e.keyCode === 13) { // enter keyboard\n      if (input.value !== '') {\n        let inValue = e.target.value;\n        listArr = inValue.split(',');\n        // listArr.push(inValue.replace(/\\s/g, ''));\n        newTagLi = '';\n        listArr.forEach((element) => {\n          newTagLi += `<span> ${element}<svg width=\"24\" height=\"24\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-delete\"></use>\n        </svg></span>`;\n        });\n        document.querySelector('.tags').innerHTML = newTagLi;\n        input.value = '';\n      }\n\n      tagsList = document.querySelector('.tags');\n      tagsItems = tagsList.querySelectorAll('span');\n\n      tagsItems.forEach((item, ind) => {\n        item.querySelector('svg').addEventListener('click', () => {\n          closeFunc(ind);\n        });\n      });\n    }\n  });\n\n  function closeFunc(i) {\n    listArr.splice(i, 1);\n    newTagLi = '';\n    listArr.forEach((element) => {\n      newTagLi += `<span> ${element}<svg width=\"24\" height=\"24\" aria-hidden=\"true\">\n      <use xlink:href=\"#icon-delete\"></use>\n    </svg></span>`;\n    });\n    document.querySelector('.tags').innerHTML = newTagLi;\n\n    tagsList = document.querySelector('.tags');\n    tagsItems = tagsList.querySelectorAll('span');\n    tagsItems.forEach((item, ind) => {\n      item.querySelector('svg').addEventListener('click', () => {\n        closeFunc(ind);\n      });\n    });\n  }\n};\n\nexport {initInputTags};\n","const initPriceRange = () => {\n  document.getElementById('custom-slider').addEventListener('input', function (event) {\n    let value = event.target.value;\n    // document.getElementById('current-value').value = value;\n    document.getElementById('current-value').innerHTML = value;\n  });\n};\n\nexport {initPriceRange};\n","const initValidateEmail = () => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+$/;\n  // const emailRegex = /^[-\\w.]+@([\\w\\-\\_]+\\.)+[A-z]{2,11}$/i;\n  // const EMAIL_REGEXP = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/iu;\n  const cyrillicPattern = /^[\\u0400-\\u04FF]+$/;\n  const emailInput = document.querySelector('input[type=\"email\"]');\n  let btnDelete = document.querySelector('.input__delete');\n  // console.log(btnDelete);\n  // const inputError = document.querySelector('.subscribe__form-error');\n  function validateEmail(value) {\n    return emailRegex.test(value);\n  }\n\n  function detectError(value) {\n    return cyrillicPattern.test(value);\n  }\n\n  function updateInput() {\n    if (validateEmail(emailInput.value)) {\n      emailInput.style.borderColor = '#0066CC';\n      btnDelete.style.visibility = 'hidden';\n      // inputError.classList.remove('show');\n    }\n\n    // else if (validateEmail(emailInput.value === '')) {\n    //   emailInput.style.borderColor = '#0066CC';\n    // }\n\n    if (detectError(emailInput.value)) {\n      emailInput.style.borderColor = '#DC3545';\n      btnDelete.style.visibility = 'visible';\n    }\n\n    // else {\n    //   emailInput.style.borderColor = '#DC3545';\n    //   btnDelete.style.visibility = 'visible';\n    // }\n  }\n\n  // function resetInput(target) {\n  //   target.value = '';\n  // }\n\n  btnDelete.addEventListener('click', () => {\n    // updateInput();\n    emailInput.style.borderColor = '#0066CC';\n    btnDelete.style.visibility = 'hidden';\n    // validateEmail(emailInput.value === '');\n    // console.log(emailInput.value);\n    // resetInput();\n  });\n\n  if (emailInput) {\n    emailInput.addEventListener('input', updateInput);\n    // emailInput.style.borderColor = '#0066CC';\n  }\n};\n\nexport {initValidateEmail};\n","let phoneInput = document.querySelector('input[type=\"tel\"]');\n\nconst initValidatePhone = () => {\n  phoneInput.addEventListener('input', function (e) {\n    let x = e.target.value.substring(2, e.target.value.length).replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,2})(\\d{0,2})/);\n    e.target.value = '+7 ' + x[1] + ' ' + (x[3] ? x[2] + '-' : x[2]) + x[3] + (x[4] ? '-' + x[4] : '');\n    if (e.target.value.length === 16) {\n      phoneInput.style.borderColor = '#E1E1E1';\n      phoneInput.setCustomValidity('');\n    }\n  });\n};\n\nphoneInput.addEventListener('invalid', function () {\n  if (phoneInput.validity.patternMismatch) {\n    phoneInput.style.borderColor = '#DC3545';\n    phoneInput.setCustomValidity('Телефон должен состоять из 11 цифр');\n  } else {\n    phoneInput.style.borderColor = '#E1E1E1';\n    phoneInput.setCustomValidity('');\n  }\n});\n\nexport {initValidatePhone};\n","export const iosChecker = () => {\n  return [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes('Mac') && 'ontouchend' in document);\n};\n","import {iosChecker} from './ios-checker';\n\nconst iosVhFix = () => {\n  if (!(!!window.MSInputMethodContext && !!document.documentMode)) {\n    if (iosChecker()) {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n\n      window.addEventListener('resize', function () {\n        vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      });\n    }\n  }\n};\n\nexport {iosVhFix};\n"],"sourceRoot":""}